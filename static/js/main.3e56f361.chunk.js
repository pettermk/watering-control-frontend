(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports=a(302)},190:function(e,t,a){},191:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},193:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(190),a(191),a(192),a(193),a(72)),l=a(342),u=a(348),s=a(350),m=a(352),p=a(172),d=a.n(p),h=a(304),E=a(177),f=a(347),g=a(351),b=a(353),v=a(349);a(194);function O(e){var t=r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return e.displayForm("login")}},"Login"),r.a.createElement("li",{onClick:function(){return e.displayForm("signup")}},"Signup")),a=r.a.createElement("ul",null,r.a.createElement("li",{onClick:e.handleLogout},"Logout"));return r.a.createElement("div",null,e.loggedIn?a:t)}var y=a(117),S=a(15),j=a(14),T=a(345),C=a(344),w=a(346),N=a(358),x=a(67),k=a.n(x);a(41),a(73),a(168);var U=a(22),R=a(29),A=a(303),L=Object(A.a)(function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-right",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0},mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/user/erondu)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(R.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0}),mainGrid:{marginTop:e.spacing(3)},card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:80},markdown:Object(U.a)({},e.typography.body2,{padding:e.spacing(3,0)}),sidebarAboutBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},sidebarSection:{marginTop:e.spacing(3)},footer:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(6,0)}}}),I=a(31),_=a(38),F=a(71),D=a(93),G=a.n(D),P="@@auth/TOKEN_RECEIVED",W=function(e,t){return Object(R.a)({},I.RSAA,{endpoint:"https://92.221.106.142/api/token/",method:"POST",body:JSON.stringify({username:e,password:t}),headers:{"Content-Type":"application/json"},types:["@@auth/LOGIN_REQUEST","@@auth/LOGIN_SUCCESS","@@auth/LOGIN_FAILURE"]})},B=function(e){return Object(R.a)({},I.RSAA,{endpoint:"https://92.221.106.142/api/token/refresh/",method:"POST",body:JSON.stringify({refresh:e}),headers:{"Content-Type":"application/json"},types:["@@auth/TOKEN_REQUEST",P,"@@auth/TOKEN_FAILURE"]})},z={access:void 0,refresh:void 0,errors:{}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@auth/LOGIN_SUCCESS":return{access:Object(U.a)({token:t.payload.access},G()(t.payload.access)),refresh:Object(U.a)({token:t.payload.refresh},G()(t.payload.refresh)),errors:{}};case P:return Object(U.a)({},e,{access:Object(U.a)({token:t.payload.access},G()(t.payload.access))});case"@@auth/LOGIN_FAILURE":case"@@auth/TOKEN_FAILURE":return{access:void 0,refresh:void 0,errors:t.payload.response||{non_field_errors:t.payload.statusText}};default:return e}};function J(e){return!e.refresh||!e.refresh.exp||1e3*e.refresh.exp-(new Date).getTime()<5e3}var K={inputs:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(U.a)({},e,{inputs:t.payload});default:return e}},q=function(){return Object(R.a)({},I.RSAA,{endpoint:"https://92.221.106.142/web/outputs/",method:"GET",headers:oe({"Content-Type":"application/json"}),types:["@@outputs/OUTPUTS_REQUEST","@@outputs/OUTPUTS_SUCCESS","@@outputs/OUTPUTS_FAILURE"]})},V={outputs:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@outputs/OUTPUTS_SUCCESS":return Object(U.a)({},e,{outputs:t.payload});default:return e}},X=function(){return Object(R.a)({},I.RSAA,{endpoint:"https://92.221.106.142/web/controllers/",method:"GET",headers:oe({"Content-Type":"application/json"}),types:["@@controllers/CONTROLLERS_REQUEST","@@controllers/CONTROLLERS_SUCCESS","@@controllers/CONTROLLERS_FAILURE"]})},$={controllers:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@controllers/CONTROLLERS_SUCCESS":return Object(U.a)({},e,{controllers:t.payload});default:return e}},Z=function(e){return Object(_.c)({auth:Q,inputs:M,outputs:Y,controllers:H,router:Object(F.b)(e)})},ee=function(e){return function(e){return!J(e)}(e.auth)},te=function(e){return function(e){if(e.access)return e.access.token}(e.auth)},ae=function(e){return function(e){return!e.access||!e.access.exp||1e3*e.access.exp-(new Date).getTime()<5e3}(e.auth)},ne=function(e){return function(e){if(e.refresh)return e.refresh.token}(e.auth)},re=function(e){return function(e){return e.errors}(e.auth)};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return Object(U.a)({},e,{Authorization:"Bearer ".concat(te(t))})}}var ce="@@inputs/INPUTS_SUCCESS",ie=function(){return Object(R.a)({},I.RSAA,{endpoint:"https://92.221.106.142/web/inputs/",method:"GET",headers:oe({"Content-Type":"application/json"}),types:["@@inputs/INPUTS_REQUEST",ce,"@@inputs/INPUTS_FAILURE"]})};function le(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with love by the ",r.a.createElement(f.a,{color:"inherit",href:"https://material-ui.com/"},"Material-UI")," team.")}var ue={inputs:["/","Inputs",function(e){var t=L(),a=Object(j.d)();Object(n.useEffect)(function(){a(ie())},[]);var o=Object(j.e)(function(e){return e.inputs.inputs});return r.a.createElement(l.a,{container:!0,spacing:4,className:t.cardGrid},o.length>0?o.map(function(e){return r.a.createElement(l.a,{item:!0,key:e.id,xs:12,md:6},r.a.createElement(C.a,{component:"a",href:"#"},r.a.createElement(T.a,{className:t.card},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(w.a,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},e.name),r.a.createElement(E.a,{variant:"subtitle1",color:"textSecondary"},e.description),r.a.createElement(E.a,{variant:"subtitle1",paragraph:!0},e.location))),r.a.createElement(N.a,{xsDown:!0},r.a.createElement(k.a,{size:150,value:70})))))}):null)}],ouputs:["/Outputs","Outputs",function(e){var t=L(),a=Object(j.d)();Object(n.useEffect)(function(){a(q())},[]);var o=Object(j.e)(function(e){return e.outputs.outputs});return r.a.createElement(l.a,{container:!0,spacing:4,className:t.cardGrid},o.length>0?o.map(function(e,a){return r.a.createElement(l.a,{item:!0,key:e.id,xs:12,md:6},r.a.createElement(C.a,{component:"a",href:"#"},r.a.createElement(T.a,{className:t.card},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(w.a,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},e.name),r.a.createElement(E.a,{variant:"subtitle1",color:"textSecondary"},e.description),r.a.createElement(E.a,{variant:"subtitle1",paragraph:!0},e.location))),r.a.createElement(N.a,{xsDown:!0},r.a.createElement(k.a,{size:150,value:e.reading})))))}):null)}],controllers:["/Controllers","Controllers",function(e){var t=L(),a=Object(j.d)();Object(n.useEffect)(function(){a(X())},[]);var o=Object(j.e)(function(e){return e.controllers.controllers});return r.a.createElement(l.a,{container:!0,spacing:4,className:t.cardGrid},o.length>0?o.map(function(e,a){return r.a.createElement(l.a,{item:!0,key:e.id,xs:12,md:6},r.a.createElement(C.a,{component:"a",href:"#"},r.a.createElement(T.a,{className:t.card},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(w.a,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},e.name),r.a.createElement(E.a,{variant:"subtitle1",color:"textSecondary"},e.description),r.a.createElement(E.a,{variant:"subtitle1",paragraph:!0},e.set_point))))))}):null)}]};function se(e){var t=L(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],p=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{basename:"/homeautomation"},r.a.createElement(u.a,null),r.a.createElement(v.a,{maxWidth:"lg"},r.a.createElement(s.a,{className:t.toolbar},r.a.createElement(g.a,{size:"small"},"Subscribe"),r.a.createElement(E.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0,className:t.toolbarTitle},"Watering control"),r.a.createElement(m.a,null,r.a.createElement(d.a,null)),r.a.createElement(O,{loggedIn:c,handleLogout:function(){return p(!1)},handleLogIn:function(){return p(!0)}})),r.a.createElement(s.a,{component:"nav",variant:"dense",className:t.toolbarSecondary},Object.keys(ue).map(function(e){var a="/"===ue[e][0],n=ue[e][0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.b,{path:n,exact:a,children:function(a){var o=a.match;return r.a.createElement("div",{className:o?"active":""},r.a.createElement(f.a,{to:n,href:n,component:y.b,color:"inherit",noWrap:!0,key:n,variant:"body2",className:t.toolbarLink,underline:o?"always":"hover"},ue[e][1]))}}))})),r.a.createElement("main",null,Object.keys(ue).map(function(e){return"/"===ue[e][0]?r.a.createElement(S.b,{exact:!0,path:ue[e][0],component:ue[e][2]}):r.a.createElement(S.b,{path:ue[e][0],component:ue[e][2]})}),r.a.createElement(l.a,{container:!0,spacing:5,className:t.mainGrid},r.a.createElement(l.a,{item:!0,xs:12,md:8},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"From the Firehose"),r.a.createElement(b.a,null)),r.a.createElement(l.a,{item:!0,xs:12,md:4},r.a.createElement(h.a,{elevation:0,className:t.sidebarAboutBox},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"About"),r.a.createElement(E.a,null,"Etiam porta sem malesuada magna mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.")))))),r.a.createElement("footer",{className:t.footer},r.a.createElement(v.a,{maxWidth:"lg"},r.a.createElement(E.a,{variant:"h6",align:"center",gutterBottom:!0},"Footer"),r.a.createElement(E.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Something here to give the footer a purpose!"),r.a.createElement(le,null)))))}var me=function(){return r.a.createElement(se,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(354),de=a(356),he=a(355),Ee=a(359),fe=a(357),ge=a(173),be=a.n(ge);function ve(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \ufffd ",r.a.createElement(f.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Oe=Object(A.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function ye(){var e=Oe(),t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(),m=Object(i.a)(s,2),p=m[0],d=m[1],h=Object(j.d)();return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(u.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(pe.a,{className:e.avatar},r.a.createElement(be.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:function(e){e&&e.preventDefault(),h(W(o,p))},className:e.form,noValidate:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"user",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return d(e.target.value)}}),r.a.createElement(he.a,{control:r.a.createElement(Ee.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(l.a,{container:!0},r.a.createElement(l.a,{item:!0,xs:!0},r.a.createElement(f.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(l.a,{item:!0},r.a.createElement(f.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(fe.a,{mt:8},r.a.createElement(ve,null)))}var Se=Object(j.c)(function(e){return{errors:re(e),isAuthenticated:ee(e)}},function(e){return{onSubmit:function(t,a){e(W(t,a))}}})(function(e){return e.isAuthenticated?r.a.createElement(S.a,{to:"/"}):r.a.createElement("div",{className:"login-page"},r.a.createElement(ye,e))}),je=a(174),Te=Object(j.c)(function(e){return{isAuthenticated:ee(e)}},null)(function(e){var t=e.component,a=e.isAuthenticated,n=Object(je.a)(e,["component","isAuthenticated"]);return r.a.createElement(S.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(S.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Ce=a(176),we=a(27),Ne=a(175),xe=a(91),ke=a(165);var Ue=function(){var e=[];return function(t){var a=t.dispatch,n=t.getState,r=Object(I.apiMiddleware)({dispatch:a,getState:n});return function(t){return function(a){if(Object(I.isRSAA)(a)){var o=n(),c=ne(o);return c&&ae(o)?(e.push(a),1===e.length?r(function(a){a.type===P?(t(a),e.forEach(function(e){r(t)(e)}),e=[]):t(a)})(B(c)):void 0):r(t)(a)}return t(a)}}}}(),Re=Object(we.a)();var Ae=function(e){var t=Object(Ne.createFilter)("auth",["access","refresh"]),a=Object(xe.persistReducer)({key:"polls",storage:Ce.a,whitelist:["auth"],transforms:[t]},Z(Re)),n=Object(_.e)(a,{},Object(_.d)(Object(_.a)(Ue,Object(ke.a)(Re))));return Object(xe.persistStore)(n),n}();c.a.render(r.a.createElement(j.a,{store:Ae},r.a.createElement(F.a,{history:Re},r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/login/",component:Se}),r.a.createElement(Te,{path:"/",component:me})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[185,1,2]]]);
//# sourceMappingURL=main.3e56f361.chunk.js.map